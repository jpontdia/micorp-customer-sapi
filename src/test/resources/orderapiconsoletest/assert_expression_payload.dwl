%dw 2.0
import * from dw::test::Asserts
---
payload must equalTo("PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogICAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlLGNocm9tZT0xIj4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIG1pbmltdW0tc2NhbGU9MS4wLCBpbml0aWFsLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9eWVzIj4KICAgIDx0aXRsZT5BUElraXQgQ29uc29sZTwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgIGh0bWwsIGJvZHkge21hcmdpbjogMDsgcGFkZGluZzogMDsgZm9udC1zaXplOiAxNXB4OyBjb2xvcjogIzQyNDI0MjsgaGVpZ2h0OiAxMDAlO30KICAgICAgLmFwaS1kcm9wZG93biB7CiAgICAgICAgLS1hbnlwb2ludC1kcm9wZG93bi1tZW51LWJhY2tncm91bmQtY29sb3I6ICMxYzI4MzE7CiAgICAgICAgLS1hbnlwb2ludC1kcm9wZG93bi1tZW51LWxhYmVsLWNvbG9yOiAjZmZmOwogICAgICB9CiAgICAgIC5pY29uIHtkaXNwbGF5OiBpbmxpbmstYmxvY2s7IHdpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHg7IGZpbGw6IGN1cnJlbnRDb2xvcjt9CiAgICAgPC9zdHlsZT4KPC9oZWFkPgoKPGJvZHkgY2xhc3M9ImFwaWMtY29udGFpbmVyIj4KPHNjcmlwdCBzcmM9InBhY2thZ2UvYnVpbGQvdmVuZG9yLmpzIj48L3NjcmlwdD4KPHNjcmlwdCBzcmM9InBhY2thZ2UvYnVpbGQvYXBpYy1pbXBvcnQuanMiPjwvc2NyaXB0Pgo8YXBpLWNvbnNvbGUtYXBwIGlkPSJhcGktY29uc29sZS1hcHAiIGFwcCBjb21wYXRpYmlsaXR5IGFsbG93Q3VzdG9tIHNlbGVjdGVkU2hhcGU9InN1bW1hcnkiIHNlbGVjdGVkU2hhcGVUeXBlPSJzdW1tYXJ5Ij48L2FwaS1jb25zb2xlLWFwcD4KPHNjcmlwdD4KICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZSkgPT4gewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoZS50YXJnZXQucmVzcG9uc2UpOwogICAgICAgICAgICAgIGNvbnN0IGFwaWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBpLWNvbnNvbGUtYXBwJyk7CiAgICAgICAgICAgICAgYXBpYy5hbWYgPSBkYXRhOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIHdpbmRvdy5hbGVydCgnVW5hYmxlIHRvIHBhcnNlIEFNRiBtb2RlbCcpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHdpbmRvdy5hbGVydCgnVW5hYmxlIHRvIGxvYWQgQU1GIG1vZGVsJykpOwogICAgICAgIHhoci5vcGVuKCdHRVQnLCAnKi8/YW1mJyk7CiAgICAgICAgeGhyLnNlbmQoKTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K" as Binary {base: "64"})